<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HR Dashboard</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<style>
.card-buttons {
    display:flex;
    justify-content:space-around;
    margin-top:12px;
}
.button-link {
    display:inline-block;
    padding:12px 25px;
    margin:5px;
    border-radius:8px;
    text-decoration:none;
    color:#fff;
    background:#00cec9;
    text-align:center;
    transition:background 0.2s ease;
}
.button-link:hover, .button-link:focus { background:#00b894; outline:2px solid #00cec9; outline-offset:2px; }
</style>
</head>
<body>
<div class="container">
<header>
<h1>HR Dashboard</h1>
<p>Overview of all analyzed candidates</p>
</header>

{% if candidates %}
<section class="dashboard-grid">
{% for c in candidates %}
<div class="card">
    <h2>Candidate {{ c.id }}</h2>
    <p><strong>Predicted Role:</strong> {{ c.resume_data.predicted_role }} ({{ c.resume_data.pred_confidence }}%)</p>
    <p><strong>Experience:</strong> {{ c.resume_data.experience_years }} years</p>
    <p><strong>Education:</strong> {{ c.resume_data.education | join(', ') }}</p>

    {% if c.match_score is not none %}
    <div class="ats-card">
        <h3>ATS Match Score</h3>
        <div class="ats-bar-container">
            <div class="ats-bar" style="width: {{ c.match_score }}%;">{{ c.match_score }}%</div>
        </div>
    </div>
    {% endif %}

    <div class="card-buttons">
        <a href="{{ url_for('candidate_detail', candidate_id=c.id) }}" class="button-link">View Detail</a>
        <a href="{{ url_for('analyze_more', candidate_id=c.id) }}" class="button-link">Analyze More</a>
    </div>
</div>
{% endfor %}
</section>
{% else %}
<p style="text-align:center;">No candidates uploaded yet.</p>
{% endif %}
</div>
</body>
</html>
